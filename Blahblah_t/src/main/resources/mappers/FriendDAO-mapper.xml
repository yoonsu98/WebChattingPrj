<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mabatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mappers.FriendDAO-mapper">

	<select id="getFollowingMemberInfo" parameterType="String"
		resultType="com.gaon.prj.member.vo.MemberVO">
		select id,nickname from member_tbl where id in (select fiid
		from friend_tbl
		where feid=#{id})
	</select>
	<select id="getFollowerMemberInfo" parameterType="String"
		resultType="com.gaon.prj.member.vo.MemberVO">
		select id,nickname from member_tbl where id in (select feid
		from friend_tbl
		where fiid=#{id})
	</select>
	<select id="getMemberInfo"
		resultType="com.gaon.prj.member.vo.MemberVO">
		select id , nickname from member_tbl <![CDATA[where rownum <= 6]]>
		order by gcnt desc
	</select>
	<select id="getOneMemberInfo" parameterType="String"
		resultType="com.gaon.prj.member.vo.MemberVO">
		select id , nickname from member_tbl where id = #{id}
	</select>
	<insert id="setFollowing" parameterType="hashMap">
		insert into friend_tbl
		(fiid,feid)
		values(
		#{followingID},
		#{followerID}
		)
	</insert>
	<insert id="sendDM" parameterType="com.gaon.prj.friend.vo.MessageVO">
		insert into message_tbl
		(mtitle,mcontent,mtoid, mfromid)
		values(
		#{messageTitle},
		#{messageContent},
		#{messageTo},
		#{messageFrom}
		)
	</insert>
</mapper>